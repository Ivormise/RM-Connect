# RadioMaster Configurator

Автономное десктопное приложение для конфигурации устройств RadioMaster с поддержкой Web Serial API.

## Описание

RadioMaster Configurator - это портативное Electron-приложение, которое позволяет настраивать устройства RadioMaster через последовательный порт. Приложение работает полностью оффлайн и не требует подключения к интернету.

## Возможности

- ✅ Полностью автономная работа (без интернета)
- ✅ Поддержка Web Serial API для работы с последовательными портами
- ✅ Автоматическое предоставление доступа к serial устройствам
- ✅ Чистый интерфейс без меню браузера
- ✅ Упакованное в единый .exe файл для Windows

## Системные требования

- **Операционная система:** Windows 10/11 (64-bit)
- **Свободное место на диске:** ~150 MB
- **Устройство RadioMaster** подключенное через USB

## Установка

### Метод 1: Использование готового .exe файла

1. Скачайте последнюю версию `.exe` из раздела [Releases](../../releases)
2. Запустите установщик
3. Следуйте инструкциям мастера установки
4. Приложение готово к использованию!

### Метод 2: Сборка из исходников

#### Предварительные требования

- [Node.js](https://nodejs.org/) версии 18.x или выше
- npm (поставляется вместе с Node.js)

#### Шаги установки

1. **Клонируйте репозиторий:**

```bash
git clone https://github.com/ваш-username/RM-Connect.git
cd RM-Connect
```

2. **Установите зависимости:**

```bash
npm install
```

Эта команда установит:
- `electron` - фреймворк для создания десктопных приложений
- `electron-builder` - инструмент для сборки и упаковки

## Использование

### Запуск в режиме разработки

Для запуска приложения в режиме разработки (без сборки):

```bash
npm start
```

Приложение откроется в новом окне. Вы можете подключиться к устройству RadioMaster и начать конфигурацию.

### Сборка исполняемого файла

Для создания единого `.exe` файла для распространения:

```bash
npm run build
```

После успешной сборки исполняемый файл будет находиться в директории `dist/`.

**Примечание:** Первая сборка может занять несколько минут, так как electron-builder загружает необходимые компоненты.

### Альтернативная сборка (без инсталлятора)

Если вам нужна только портативная версия без установщика:

```bash
npm run build:dir
```

Результат будет в директории `dist/win-unpacked/`.

## Работа с Web Serial API

Приложение автоматически запрашивает доступ к последовательным портам при их обнаружении. Вам не нужно вручную подтверждать доступ - все настроено для удобной работы.

### Подключение устройства

1. Подключите устройство RadioMaster к компьютеру через USB
2. Запустите приложение
3. Выберите соответствующий порт в интерфейсе
4. Начните конфигурацию!

## Структура проекта

```
RM-Connect/
├── package.json          # Конфигурация проекта и зависимости
├── main.js               # Главный процесс Electron
├── preload.js            # Preload скрипт для безопасности
├── index.html            # Основной интерфейс приложения
├── fonts/                # Локальные шрифты
│   ├── Roboto-Regular.ttf
│   └── Roboto-Bold.ttf
└── Connection.html       # Оригинальный файл (для справки)
```

## Технические детали

### Electron конфигурация

- **Node Integration:** Отключен для безопасности
- **Context Isolation:** Включен
- **Web Serial API:** Включен через `enableBlinkFeatures: 'Serial'`
- **Меню приложения:** Скрыто для чистого интерфейса

### Размер приложения

- **Размер установщика:** ~70-90 MB
- **Размер после установки:** ~140-160 MB

Размер обусловлен включением Chromium и Node.js в сборку для обеспечения полной автономности.

## Разработка

### Отладка

Для включения DevTools добавьте в `main.js` следующую строку (уже закомментирована):

```javascript
mainWindow.webContents.openDevTools();
```

### Логирование

Приложение выводит полезную отладочную информацию в консоль:
- Список доступных serial портов
- События подключения/отключения устройств
- Запросы на доступ к устройствам

## Решение проблем

### Устройство не обнаружено

1. Убедитесь, что устройство правильно подключено
2. Проверьте, установлены ли необходимые драйверы
3. Попробуйте другой USB-порт или кабель
4. Перезапустите приложение

### Приложение не запускается

1. Убедитесь, что у вас установлена правильная версия Windows (10/11, 64-bit)
2. Проверьте, что файлы не были повреждены при скачивании
3. Попробуйте запустить от имени администратора

### Ошибка при сборке

1. Убедитесь, что установлена актуальная версия Node.js
2. Удалите `node_modules` и выполните `npm install` заново
3. Проверьте, что у вас достаточно места на диске

## Лицензия

MIT

## Поддержка

Если у вас возникли вопросы или проблемы, создайте [Issue](../../issues) в репозитории GitHub.

## Благодарности

- [Electron](https://www.electronjs.org/) - фреймворк для создания кроссплатформенных приложений
- [electron-builder](https://www.electron.build/) - инструмент для сборки и упаковки
- [RadioMaster](https://www.radiomasterrc.com/) - производитель устройств
- [Google Fonts (Roboto)](https://fonts.google.com/specimen/Roboto) - шрифты интерфейса

---

**Внимание:** Это приложение предназначено для работы с устройствами RadioMaster. Использование с другими устройствами может привести к непредсказуемым результатам.
